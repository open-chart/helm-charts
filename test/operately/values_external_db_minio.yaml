replicaCount: 1

env:
  operatelyHost: "okr.phuongdt.com"
  urlScheme: "https"
  allowLoginWithEmail: "yes"
  storageType: "s3"

extraEnv:
  ## TODO: Make it a sperate env
  - name: CERT_AUTO_RENEW
    value: "no"
  - name: CERT_DOMAIN
    value: "localhost"
  - name: CERT_EMAILS
    value: "admin@localhost"
  - name: CERT_DB_DIR
    value: "/media/certs"
  ## S3
  - name: OPERATELY_STORAGE_S3_HOST
    value: "minio.phuongdt.com" 
  - name: OPERATELY_STORAGE_S3_SCHEME
    value: "https"
  - name: OPERATELY_STORAGE_S3_BUCKET
    value: "operately-media"
  - name: OPERATELY_STORAGE_S3_REGION
    value: "minio"
  - name: OPERATELY_STORAGE_S3_ACCESS_KEY_ID
    value: "CzJfq0W1XwPulpS8bkU1"       # for testing; use a Secret in prod
  - name: OPERATELY_STORAGE_S3_SECRET_ACCESS_KEY
    value: "idmo3rFaGCQ6Q6Eiy62DWS0ooQU37dMF3yQqtjg0"       # for testing; use a Secret in prod

service:
  type: ClusterIP
  port: 4000

ingress:
  enabled: false

# No persistence (uses emptyDir for /media)
persistence:
  enabled: false

externalPostgresql:
  enabled: true
  databaseUrl: "ecto://operately_user:vaUEPza4hdfhs@postgresql.postgresql.svc.cluster.local:5432/operately"

postgresql:
  enabled: false

secrets:
  # Generate a random 64-char secret at render time for local usage
  secretKeyBase: "a3f1c5d7e9214b8c0f2e6a9db3c7e5f18b7a6c5d4e3f2a1908b7c6d5e4f3a2915e6f7a8b9c0d1e2f3a4b5c6d7e8f9012c3d4e5f60718293a4b5c6d7e8f90a1b2"
